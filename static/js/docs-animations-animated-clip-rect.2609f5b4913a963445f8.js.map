{"version":3,"sources":["/Users/hsunpeiwang/Documents/Projects/iChef/transcharts/packages/animation/src/utils/getD3EaseFunc.ts","/Users/hsunpeiwang/Documents/Projects/iChef/transcharts/packages/animation/src/clip/AnimatedClipRect.tsx","/Users/hsunpeiwang/Documents/Projects/iChef/transcharts/docs/animations/AnimatedClipRect.mdx"],"names":["DEFAULT_EASING","getD3EaseFunc","name","arguments","length","undefined","easeFunc","d3Ease","console","error","AnimatedClipRect","_ref","_ref$type","type","_ref$width","width","_ref$height","height","_ref$duration","duration","_ref$delay","delay","easing","children","restProps","Object","objectWithoutProperties","clipId","useRef","concat","shortid","generate","current","springProps","useSpring","results","config","to","left","top","objectSpread","from","getSpringFromTo","springWidth","springHeight","react_default","a","createElement","Fragment","id","web","rect","assign","x","y","clipPath","layoutProps","MDXLayout","MDXContent","components","props","index_es","mdxType","parentName","href","index_esm","__position","__code","__scope","this","Playground","Props","__codesandbox","AnimatedClipRect_AnimatedClipRect","rx","style","fill","of","isMDXComponent"],"mappings":"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","file":"static/js/docs-animations-animated-clip-rect.38a72aeb.js","sourcesContent":["import * as d3Ease from 'd3-ease';\n\nconst DEFAULT_EASING = 'easeLinear';\n\n/**\n * Returns the easing function by the key of `d3-ease` library.\n * It returns `easeLinear` if there is no matching easing function.\n * Ref: https://github.com/d3/d3-ease\n */\nexport function getD3EaseFunc(name: string = DEFAULT_EASING) {\n  const easeFunc = d3Ease[name];\n  if (!easeFunc) {\n    // #TODO: come up with a better way to handle the warning messages\n    console.error('Unknown name of easing function. Check the name parameter of getD3EaseFunc.');\n  }\n  return easeFunc ? easeFunc : d3Ease[DEFAULT_EASING];\n}\n","import React, { FunctionComponent, useRef } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport shortid from 'shortid';\n\nimport { getD3EaseFunc } from '../utils/getD3EaseFunc';\n\nexport interface AnimatedClipRectProps {\n  type: 'slideRight' | 'slideLeft' | 'slideUp'| 'slideDown';\n  width: number;\n  height: number;\n\n  /** Delay before the animation starts (ms) */\n  delay: number;\n\n  /** Duration of the animation (ms) */\n  duration: number;\n\n  /** Name of the easing function which belongs to `d3-ease` */\n  easing?: string;\n\n  children: React.ReactNode;\n}\n\n/**\n * Returns the animated properties for the rectangle clip path\n */\nfunction getSpringFromTo(\n  type: AnimatedClipRectProps['type'],\n  width: AnimatedClipRectProps['width'],\n  height: AnimatedClipRectProps['height'],\n  delay: AnimatedClipRectProps['delay'],\n  duration: AnimatedClipRectProps['duration'],\n  easing: AnimatedClipRectProps['easing'],\n) {\n  const results = {\n    delay,\n    config: {\n      duration,\n      easing: getD3EaseFunc(easing),\n    },\n    to: {\n      width,\n      height,\n      left: 0,\n      top: 0,\n    },\n  };\n\n  switch (type) {\n    case 'slideLeft': {\n      return {\n        ...results,\n        from: {\n          height,\n          width: 0,\n          left: width,\n          top: 0,\n        },\n      };\n    }\n    case 'slideUp': {\n      return {\n        ...results,\n        from: {\n          width,\n          height: 0,\n          left: 0,\n          top: height,\n        },\n      };\n    }\n    case 'slideDown': {\n      return {\n        ...results,\n        from: {\n          width,\n          height: 0,\n          left: 0,\n          top: 0,\n        },\n      };\n    }\n    case 'slideRight':\n    default: {\n      return {\n        ...results,\n        from: {\n          height,\n          width: 0,\n          left: 0,\n          top: 0,\n        },\n      };\n    }\n  }\n}\n\nexport const AnimatedClipRect: FunctionComponent<AnimatedClipRectProps> = ({\n  type = 'slideRight',\n  width = 1,\n  height = 1,\n  duration = 500,\n  delay = 0,\n  easing,\n  children,\n  ...restProps\n}) => {\n  const { current: clipId } = useRef(`clipRect-${shortid.generate()}`);\n  const springProps = useSpring(getSpringFromTo(\n    type,\n    width,\n    height,\n    delay,\n    duration,\n    easing,\n  ));\n  const { left, top, width: springWidth, height: springHeight } = springProps;\n\n  return (\n    <>\n      <clipPath id={clipId}>\n        <animated.rect\n          x={left}\n          y={top}\n          width={springWidth}\n          height={springHeight}\n          {...restProps}\n        />\n      </clipPath>\n      <g clipPath={`url(#${clipId})`}>\n        {children}\n      </g>\n    </>\n  );\n};\n","/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\nimport { Playground, Props } from 'docz'\nimport { AnimatedClipRect } from '@ichef/transcharts-animation'\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"clipping-rectangle\"\n    }}>{`Clipping Rectangle`}</h1>\n    <p>{`You can make an inner SVG element be clipped by an animated rectangle by wrapping it into `}<inlineCode parentName=\"p\">{`<AnimatedClipRect>`}</inlineCode>{`.`}</p>\n    <p>{`The default animation direction is enlarging the clipping rectangle from the left to the right, i.e., `}<inlineCode parentName=\"p\">{`slideRight`}</inlineCode>{`.\nWhile it supports four kinds of directions (`}<inlineCode parentName=\"p\">{`slideRight`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`slideLeft`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`slideUp`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`slideDown`}</inlineCode>{`), and you can modify it directly through the playground below to see different effects.`}</p>\n    <p>{`Additionally, the `}<inlineCode parentName=\"p\">{`easing`}</inlineCode>{` options corresponds to the names of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/d3/d3-ease\"\n      }}>{`d3-ease`}</a>{` functions.\nYou may refer to its `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/d3/d3-ease\"\n      }}>{`document`}</a>{` to choose a desirable easing effect.`}</p>\n    <Playground __position={0} __code={'<svg width={550} height={50}>\\n  <AnimatedClipRect\\n    width={550}\\n    height={50}\\n    type=\\\"slideRight\\\"\\n    duration={1500}\\n    easing=\\\"easeCubic\\\"\\n  >\\n    <rect width={550} height={50} rx={10} style={{ fill: \\'#2f98f7\\' }} />\\n  </AnimatedClipRect>\\n</svg>'} __scope={{\n      props: this ? this.props : props,\n      Playground,\n      Props,\n      AnimatedClipRect\n    }} __codesandbox={`N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkmXwldXfTl-nm8GTM6yay1C7Gw836dHI3XcyTgBAEoRSKVgdhGLzw4xsdgqwKwSxmsH83UytkR5lscFCMHW1FSuLe9UQAEozEZJGYIEQZpQBFMAEowVzkKZgIREdidcWS9oAbj5AqFooVBAAIgB5ACy7GlkTlXQlBAAtCciMrVYLhQ5IoLUPpDTK5ThJNhXALYDbUGYxWbdXqcF0MBkABTrZhsMTrCyMPAAZjEjjVzponDVwuy7BxEx6gKJVRBAkQUmTcfMFnYjBmYgjDSmUWSztzrnQLBi1Hi7BmQju40oqRgUxe7DDmH6qBSeZgCQ5Unr8draadLskVYT0ljijMJ16RH0ODSBAAorAjzQAEKJBroCOdYQEdpc1AcpUKZRen0wHCaMgdGoWh6EQFRsymYB2AABSgVxEhSIRQgwJZoIHOx5FdY12gPAAvP1-TtSD2AAQVQfksnQewoAgGYxUldhMKNWV2gAAViTYwEkVF3Dgcg_GFOBzXcCju1QAiIPYQMGOYk1NXaMFUF0FFjlOXDnAIRIsXYbh2GAdYogEZ5UCudoAAZ2CTGYsHaPdqxmDsWBnUyABZrPYAA2azbPWMBgIAMW9aBElM_hnEOBEHUwGChH4JYiGoSg4AchEfOrPyaGcCBcMudgAEYXLs-RFOUqYSLmHT2AjKD-OgdAw0YjkdLEKroxkdgUS0mBuGAPCNK6uB5C3GtgFqqB6uCAAySbxkSeZKGaMaJvMbhVrlMBkMlAZxPYAB-DY6rDCMmquJaw2K6spBkKs3zMGF1WOGAwDCKApmO5rWsu8rl2rBNpIIHB_MyFIrwIYaa1rOBWFnHF0AmHqAFYEbMzDNggFJCERlHwYh2syNE7JqNo-jRF-3GLFh-HgCRlGV3JtGMYILGLvJiHNPmPgQDgGjMBFdHCH4OncfQPpom2nq8uR2myfJ8V8hnTm5Zgew3liQWZZrHHycYLoGMpvBEeR1GYH5pnqZRicsAli3OtgHqoMgBJTIAYgAJjAABOAAOMAAHZ2kYzDNyF7d8aiWgqJouitjBoWpChlIcakf7AeB0Hhqkb6brML8QBS7ZXDSf84GoQDdBAgwwP06t-FQb1GSQdh-B-Ytqgyc0fzJBu7IsfhWAyfJqH4K5-DMnAx7MuL1n4cpyH6GYxOHpuQBIjrCNgaEsG9LvHrJShElzPICgnTVzRbv5SynmuQCiNAl_4VRsGLq_e5ATB5nDJSIHgJfq4hme1L3xAAAPTyjgV248X41n4KaSUQDQEeRwF7HAeUoGv1gRaK08C8qIOQagkA6wLryFzq3bwHxqCQBSMXUu2hy76AYPpEAtAfRZGHs3U0tBzQYOEnMfgxD5ACKAA`} mdxType=\"Playground\">\n  <svg width={550} height={50}>\n    <AnimatedClipRect width={550} height={50} type=\"slideRight\" duration={1500} easing='easeCubic' mdxType=\"AnimatedClipRect\">\n      <rect width={550} height={50} rx={10} style={{\n            fill: '#2f98f7'\n          }} />\n    </AnimatedClipRect>\n  </svg>\n    </Playground>\n    <h2 {...{\n      \"id\": \"props\"\n    }}>{`Props`}</h2>\n    <Props of={AnimatedClipRect} mdxType=\"Props\" />\n    </MDXLayout>;\n}\n\nMDXContent.isMDXComponent = true;\n  "],"sourceRoot":""}