(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./packages/chart/src/index.ts":function(e,t,r){"use strict";var a={MARGIN:{top:20,right:20,bottom:50,left:55}};"undefined"!==typeof a&&a&&a===Object(a)&&Object.isExtensible(a)&&Object.defineProperty(a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"DEFAULT_VALS",filename:"packages/chart/src/common/config.ts"}});var n=r("./node_modules/react/index.js"),o=r.n(n),i=r("./packages/graph/src/index.ts"),c=r("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),s=300;function l(e,t,r,a,n){var o=e.width,i=e.height,l=t.top,u=t.right,m=t.bottom,g=t.left,d=s,f=s,h=Object(c.a)({},t);switch(n){case"left":case"right":d=o>0?o-g-u-a.width:s,f=i>0?i-l-m:s,"left"===n&&(h.left+=a.width);break;case"top":case"bottom":d=o>0?o-g-u:s,f=i>0?i-l-m-a.height:s,"top"===n&&(h.top+=a.height)}return h.top+=r.height,{graphMargin:h,graphDimension:{width:d,height:f-=r.height}}}l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getInnerGraphDimensionAndMargin",filename:"packages/chart/src/utils/getInnerGraphDimensionAndMargin.ts"}});var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{top:20,right:20,bottom:30,left:60},t=arguments.length>1?arguments[1]:void 0,r=Object(n.useRef)(null),a=Object(n.useRef)(null),o=Object(n.useRef)(null),c=Object(i.useContainerDimension)(r),s=Object(i.useContainerDimension)(a),u=Object(i.useContainerDimension)(o),m=t&&t.legend&&t.legend.orient||"right",g=Object(n.useMemo)(function(){return l(c,e,u,s,m)},[c,e,u,s,m]),d=g.graphDimension,f=g.graphMargin;return{chartRef:r,titleRef:o,legendRef:a,outerDimension:c,graphDimension:d,graphMargin:f}};u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useChartDimensions",filename:"packages/chart/src/hooks/useChartDimensions.ts"}});var m=r("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),g=r("./node_modules/lodash/values.js"),d=r.n(g);function f(e,t,r,a){var n={},o={};return e.forEach(function(e,i){e.forEach(function(e){var c=t.getFormattedStringVal(e),s=r.getFormattedStringVal(e),l=t.getScaledVal(e),u=r.getScaledVal(e);n[c]||(n[c]=[],o[c]=l),n[c].push({groupIdx:i,projectedStrVal:s,projectedPos:u,color:a(e)})})}),Object.keys(n).reduce(function(e,t){var r=n[t],a={basePos:o[t]||0,baseStrVal:t,projectedVals:r};return[].concat(Object(m.a)(e),[a])},[]).sort(function(e,t){return e.basePos-t.basePos})}function h(e,t,r){var a={},n={};return e.forEach(function(e){e.forEach(function(e){var o=e[t],i=e[r];i>=0?a[o]=a[o]?a[o]+i:i:n[o]=n[o]?n[o]+i:i})}),[Math.min.apply(Math,[0].concat(Object(m.a)(d()(n)))),Math.max.apply(Math,[0].concat(Object(m.a)(d()(a))))]}f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getAxisProjectedValues",filename:"packages/chart/src/utils/getAxisProjectedValues.ts"}});var b=function(e,t,r,a,o,c){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=e.width,u=e.height,m=Object(n.useMemo)(function(){var e=s?a:o,t=Object(i.getValByScaleType)(e.scale),n=function(r){return t(r[e.field])};return r.sort(function(e,t){return n(e)-n(t)})},[r,a]),g=Object(n.useMemo)(function(){var e=[c].filter(function(e){return!!e});return Object(i.getDataGroupByEncodings)(m,e)},[c,m]),d=Object(n.useMemo)(function(){var e=Object(i.getXAxisScale)({data:r,axisLength:l,encoding:a});if("linear"===a.scale&&"band"===o.scale){var t=h(g,o.field,a.field);e.domain=t,e.scale.domain(t)}return e},[r,l,a]),b=Object(n.useMemo)(function(){var e=Object(i.getYAxisScale)({data:r,axisLength:u,encoding:o});if("band"===a.scale&&"linear"===o.scale){var t=h(g,a.field,o.field);e.domain=t,e.scale.domain(t)}return e},[r,u,o]),p=Object(n.useMemo)(function(){return Object(i.getRecordFieldSelector)(d)},[d]),j=Object(n.useMemo)(function(){return Object(i.getRecordFieldSelector)(b)},[b]),v=Object(n.useMemo)(function(){return"undefined"===typeof c?null:Object(i.getColorScale)({data:r,encoding:c,colors:t.colors})},[c,r,t.colors]),x=t.colors.category[0],O=Object(n.useMemo)(function(){return v?Object(i.getRecordFieldSelector)(v).getScaledVal:function(){return x}},[v,x]),y=Object(n.useMemo)(function(){return s?f(g,p,j,O):f(g,j,p,O)},[g,p,j,O]);return{dataGroups:g,axisProjectedValues:y,scalesConfig:{x:d,y:b,color:v},rowValSelectors:{x:p,y:j,color:{getString:O}}}};b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useCartesianEncodings",filename:"packages/chart/src/hooks/useCartesianEncodings.ts"}});var p=r("./node_modules/@vx/shape/dist/vx-shape.es.js"),j=r("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),v=r("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js");function x(){var e=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  color: ",";\n"]);return x=function(){return e},e}"undefined"!==typeof FrameContentProps&&FrameContentProps&&FrameContentProps===Object(FrameContentProps)&&Object.isExtensible(FrameContentProps)&&Object.defineProperty(FrameContentProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"FrameContentProps",filename:"packages/chart/src/frames/SvgWithAxisFrame.tsx"}}),"undefined"!==typeof SvgFrameProps&&SvgFrameProps&&SvgFrameProps===Object(SvgFrameProps)&&Object.isExtensible(SvgFrameProps)&&Object.defineProperty(SvgFrameProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SvgFrameProps",filename:"packages/chart/src/frames/SvgWithAxisFrame.tsx"}});var O=i.styled.div(x(),function(e){return e.fontColor}),y=function(e){var t=e.outerDimension,r=e.graphDimension,a=e.x,c=e.y,s=e.drawFromXAxis,l=e.margin,u=e.data,m=e.scalesConfig,g=e.showLeftAxis,d=e.showBottomAxis,f=e.axisInBackground,h=e.svgOverlay,b=e.children;return Object(n.useMemo)(function(){var e=t.width,n=t.height,p=r.width,j=r.height,v=o.a.createElement(i.AxisLayer,{width:p,height:j,showLeftAxis:g,showBottomAxis:d,data:u,x:a,y:c,drawFromXAxis:s,xAxisScale:m.x.scale,yAxisScale:m.y.scale});return o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{width:e,height:n},o.a.createElement("g",{transform:"translate(".concat(l.left,", ").concat(l.top,")")},f?o.a.createElement(o.a.Fragment,null,v,b):o.a.createElement(o.a.Fragment,null,b,v))),h)},[t,r,a,c,l,u,m,g,d,f,h,b])};y.defaultProps={showLeftAxis:!0,showBottomAxis:!0,axisInBackground:!0,drawFromXAxis:!0};var P=o.a.forwardRef(function(e,t){var r=e.titleRef,a=e.title,c=e.titleDesc,s=e.titleAlign,l=Object(j.a)(e,["titleRef","title","titleDesc","titleAlign"]),u=Object(n.useContext)(i.ThemeContext).globalStyle;return o.a.createElement(O,Object.assign({ref:t},u),o.a.createElement(y,l),o.a.createElement(i.HeaderBox,{ref:r,title:a,desc:c,align:s}))});function C(e,t){var r=t<0?0:t;return t>=e.length&&(r=e.length-1),e[r].basePos}"undefined"!==typeof P&&P&&P===Object(P)&&Object.isExtensible(P)&&Object.defineProperty(P,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"SvgWithAxisFrame",filename:"packages/chart/src/frames/SvgWithAxisFrame.tsx"}}),"undefined"!==typeof LineChartProps&&LineChartProps&&LineChartProps===Object(LineChartProps)&&Object.isExtensible(LineChartProps)&&Object.defineProperty(LineChartProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"LineChartProps",filename:"packages/chart/src/line/LineChart.tsx"}});var E=function(e){var t=e.hovering,r=e.projectedPoints,a=e.height;if(!t)return null;var n=r.projectedVals.map(function(e){return o.a.createElement("circle",{key:"c-".concat(e.projectedStrVal),cx:r.basePos,cy:e.projectedPos,r:4.5,fill:e.color})});return o.a.createElement(o.a.Fragment,null,o.a.createElement("line",{x1:r.basePos,y1:0,x2:r.basePos,y2:a,style:{stroke:"rgba(124, 137, 147, 0.25)",strokeWidth:2}}),n)},w=function(e){var t=e.color,r=e.xSelector,a=e.ySelector,n=e.rows,i=n.map(function(e,n){return o.a.createElement("circle",{key:"c-".concat(n),cx:r.getScaledVal(e),cy:a.getScaledVal(e),r:3.5,fill:t})});return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.b,{data:n,x:r.getScaledVal,y:a.getScaledVal,stroke:t,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),i)},A={margin:a.MARGIN},S=function(e){var t=e.data,r=e.margin,a=e.x,s=e.y,l=e.color,m=e.title,g=e.titleDesc,d=e.titleAlign,f=e.showLeftAxis,h=e.showBottomAxis,p=Object(n.useContext)(i.ThemeContext),j=u(r,l),v=j.chartRef,x=j.titleRef,O=j.legendRef,y=j.outerDimension,A=j.graphDimension,S=j.graphMargin,_=A.width,k=A.height,F=Object(i.useHoverState)(),M=F.clearHovering,D=F.hovering,L=F.hoveredPoint,V=F.setHoveredPosAndIndex,B=b(A,p,t,a,s,l),R=B.dataGroups,I=B.scalesConfig,H=B.rowValSelectors,G=B.axisProjectedValues,W=Object(n.useMemo)(function(){return R.map(function(e,t){var r=H.color.getString(e[0]);return o.a.createElement(w,{key:"row-".concat(t),color:r,rows:e,xSelector:H.x,ySelector:H.y})})},[R,H]),T=Object(n.useMemo)(function(){return G.map(function(e,t){var r=(e.basePos+C(G,t-1))/2,a=(e.basePos+C(G,t+1))/2-r;return o.a.createElement("rect",{key:"colli-".concat(t),x:r,y:0,width:a,height:k,opacity:0})})},[G,k]);return o.a.createElement(P,{ref:v,titleRef:x,title:m,titleDesc:g,titleAlign:d,outerDimension:y,graphDimension:A,showLeftAxis:f,showBottomAxis:h,x:a,y:s,margin:S,data:t,scalesConfig:I,svgOverlay:o.a.createElement(o.a.Fragment,null,o.a.createElement(i.TooltipLayer,{hovering:D,hoveredPoint:L,axisProjectedValues:G,graphWidth:_,graphHeight:k,margin:S}),o.a.createElement(i.LegendGroup,{color:l&&Object(c.a)({},l,I.color),ref:O}))},W,o.a.createElement(E,{hovering:D,projectedPoints:G[L.index],height:k}),o.a.createElement(i.HoverLayer,{setHoveredPosAndIndex:V,clearHovering:M,hoverDetectionComponents:T}))};function _(e){var t={},r={};return function(a,n){if(n<0)return r[a]||(r[a]=e),r[a]+=n,r[a];var o=t[a]?t[a]:e;return t[a]=o+n,o}}function k(e){var t={},r={};return function(a,n){if(n>=0)return t[a]||(t[a]=e),t[a]-=n,t[a];var o=r[a]?r[a]:e;return r[a]=o-n,o}}S&&S===Object(S)&&Object.isExtensible(S)&&Object.defineProperty(S,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"LineChart",filename:"packages/chart/src/line/LineChart.tsx"}}),S.defaultProps=A,_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getAccumXCalculator",filename:"packages/chart/src/utils/getBarChartPos.ts"}}),k&&k===Object(k)&&Object.isExtensible(k)&&Object.defineProperty(k,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getAccumYCalculator",filename:"packages/chart/src/utils/getBarChartPos.ts"}});var F=function(e){var t=e.hovering,r=e.x,a=e.y,n=e.width,i=e.height;return t?o.a.createElement("rect",{x:r,y:a,width:n,height:i,opacity:.5,fill:"rgba(124, 137, 147, 0.25)"}):null};"undefined"!==typeof BarChartProps&&BarChartProps&&BarChartProps===Object(BarChartProps)&&Object.isExtensible(BarChartProps)&&Object.defineProperty(BarChartProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"BarChartProps",filename:"packages/chart/src/bar/BarChart.tsx"}});var M={margin:a.MARGIN,paddingInner:.1},D=function(e){var t=e.data,r=e.margin,a=void 0===r?{top:20,right:20,bottom:30,left:60}:r,s=e.x,l=e.y,m=e.color,g=e.title,d=e.titleDesc,f=e.titleAlign,h=e.showLeftAxis,p=e.showBottomAxis,j=e.paddingInner,v=void 0===j?.1:j,x=Object(n.useContext)(i.ThemeContext),O=u(a),y=O.chartRef,C=O.titleRef,E=O.legendRef,w=O.outerDimension,A=O.graphDimension,S=A.width,M=A.height,D=Object(n.useMemo)(function(){return"quantitative"!==s.type},[s,l]),L=Object(c.a)({},s,{scale:"band"}),V=Object(c.a)({},l,{scale:"linear"});D?L.scaleConfig={paddingInner:v}:(L.scale="linear",V.scale="band",V.scaleConfig={paddingInner:v});var B=b(A,x,t,L,V,m,D),R=B.dataGroups,I=B.scalesConfig,H=B.rowValSelectors,G=B.axisProjectedValues,W=Object(i.useHoverState)(),T=W.clearHovering,X=W.hovering,N=W.hoveredPoint,J=W.setHoveredPosAndIndex,Y=I[D?"x":"y"].scale,q=I[D?"y":"x"].scale,U=Object(n.useMemo)(function(){return Y.bandwidth()},[Y]),z=Object(n.useMemo)(function(){return D?U/2:0},[D,U]),K=Object(n.useCallback)(function(e){var r=U*v,a=0===e?0:G[e].basePos-r/2,n=0===e||e===t.length-1?U+r/2:U+r;return D?{width:n,height:M,x:a,y:0}:{width:S,height:n,x:0,y:a}},[U,v,S,M]),Q=Object(n.useMemo)(function(){return G.map(function(e,t){return o.a.createElement("rect",Object.assign({key:"colli-".concat(t),opacity:0},Object(c.a)({},K(t))))})},[G,M,U,K]),Z=Object(n.useMemo)(function(){var e=q(0),t=(D?k:_)(e);return R.map(function(r,a){return r.map(function(a,n){var i,c=H.color.getString(r[0]),s=H.x.getScaledVal(a),l=H.y.getScaledVal(a);if(D){var u=l>=0?e-l:e-M-l;i={x:s,y:t(s,u),width:U,height:Math.abs(u)}}else{var m=s-e;i={x:t(l,m),y:l,width:Math.abs(m),height:U}}return o.a.createElement("rect",Object.assign({},i,{key:"bar-".concat(n),fill:c}))})})},[R,I,H]);return o.a.createElement(P,{ref:y,titleRef:C,title:g,titleDesc:d,titleAlign:f,outerDimension:w,graphDimension:A,showLeftAxis:h,showBottomAxis:p,x:s,y:l,drawFromXAxis:D,axisInBackground:!1,margin:a,data:t,scalesConfig:I,svgOverlay:o.a.createElement(o.a.Fragment,null,o.a.createElement(i.TooltipLayer,{hovering:X,hoveredPoint:N,axisProjectedValues:G,graphWidth:S,graphHeight:M,margin:a,drawFromXAxis:D,xOffset:z}),o.a.createElement(i.LegendGroup,{color:m&&Object(c.a)({},m,I.color),ref:E}))},Z,o.a.createElement(F,Object.assign({hovering:X},Object(c.a)({},K(N.index)))),o.a.createElement(i.HoverLayer,{setHoveredPosAndIndex:J,clearHovering:T,hoverDetectionComponents:Q}))};D&&D===Object(D)&&Object.isExtensible(D)&&Object.defineProperty(D,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"BarChart",filename:"packages/chart/src/bar/BarChart.tsx"}}),D.defaultProps=M,r.d(t,"b",function(){return S}),r.d(t,"a",function(){return D})}}]);
//# sourceMappingURL=docs-chart-settings-legend~docs-chart-settings-title~docs-charts-bar-chart~docs-charts-line-chart~do~8ac75e4a.2609f5b4913a963445f8.js.map